import { convertGenderRatioFromDecimal } from './genderRatioConverter';

describe('Gender Ratio Converter', () => {
  test.each([
    [-38, 100.0, 0.0],
    [-13, 100.0, 0.0],
    [-1, 100.0, 0.0],
    [0, 100.0, 0.0],

    [1, 88.14, 11.86],
    [5, 88.14, 11.86],
    [12, 88.14, 11.86],
    [30, 88.14, 11.86],
    [31, 88.14, 11.86],

    [32, 75.5, 24.5],
    [47, 75.5, 24.5],
    [55, 75.5, 24.5],
    [62, 75.5, 24.5],
    [63, 75.5, 24.5],

    [64, 50.2, 49.8],
    [70, 50.2, 49.8],
    [84, 50.2, 49.8],
    [91, 50.2, 49.8],
    [100, 50.2, 49.8],
    [117, 50.2, 49.8],
    [126, 50.2, 49.8],
    [127, 50.2, 49.8],

    [128, 24.9, 75.1],
    [132, 24.9, 75.1],
    [147, 24.9, 75.1],
    [152, 24.9, 75.1],
    [169, 24.9, 75.1],
    [173, 24.9, 75.1],
    [182, 24.9, 75.1],
    [190, 24.9, 75.1],
    [191, 24.9, 75.1],

    [192, 11.46, 88.54],
    [201, 11.46, 88.54],
    [215, 11.46, 88.54],
    [224, 11.46, 88.54],
    [225, 11.46, 88.54],

    [226, 0.0, 100.0],
    [238, 0.0, 100.0],
    [244, 0.0, 100.0],
    [253, 0.0, 100.0],
    [254, 0.0, 100.0],
    [255, 0.0, 0.0],
    [256, 0.0, 0.0],
    [623, 0.0, 0.0],
    [1004, 0.0, 0.0],
  ])('convert decimal value %s', (decimalValue, malePercentage, femalePercentage) => {
    const ratio = convertGenderRatioFromDecimal(decimalValue);
    expect(ratio.male).toEqual(malePercentage);
    expect(ratio.female).toEqual(femalePercentage);
  });
});
